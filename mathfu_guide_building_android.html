<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MathFu: Building for Android</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,700" rel="stylesheet">
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="commonprojectlogo">
    <img alt="Logo" src="fpl_logo_small.png"/>
  </td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MathFu
   </div>
   <div style="font-size:12px;">
	 An open source project by
     <a href="https://developers.google.com/games/#Tools">FPL</a>.
  </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="usergroup0.html"><span>Programmer's&#160;Guide</span></a></li>
      <li><a href="mathfu_api_reference.html"><span>API&#160;reference</span></a></li>
      <li><a href="mathfu_readme.html"><span>readme</span></a></li>
      <li><a href="contributing.html"><span>contributing</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mathfu_guide_building_android.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Building for Android </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="mathfu_guide_building_android_version"></a>
Version Requirements</h1>
<p>Following are the minimum tested versions of the tools and libraries you need to build <a class="el" href="index.html#mathfu_overview">MathFu</a> for Android:</p>
<ul>
<li><a href="http://developer.android.com/sdk/index.html">Android SDK</a>: Android 2.3.3 (API Level 10) or above.</li>
<li><a href="http://developer.android.com/sdk/index.html">Android Developer Tools</a> (<a href="http://developer.android.com/tools/sdk/eclipse-adt.html">ADT</a>): 20140702<ul>
<li>NDK plugn for Eclipse (bundled with <a href="http://developer.android.com/tools/sdk/eclipse-adt.html">ADT</a>) if using Eclipse to build.</li>
</ul>
</li>
<li><a href="http://developer.android.com/tools/sdk/ndk/index.html">Android NDK</a>: android-ndk-r10e</li>
<li><a href="http://google.github.io/fplutil">fplutil</a>: 1.0 or above, if using <a href="http://google.github.io/fplutil">fplutil</a> to build, install and run.</li>
</ul>
<h1><a class="anchor" id="mathfu_guide_building_android_prerequisites"></a>
Prerequisites</h1>
<p>Prior to building:</p>
<ul>
<li>Install the <a href="http://developer.android.com/sdk/index.html">Android SDK</a>.</li>
<li>Install the <a href="http://developer.android.com/tools/sdk/ndk/index.html">Android NDK</a>.</li>
<li>Install <a href="http://google.github.io/fplutil/fplutil_prerequisites.html">fplutil prerequisites</a> if using <a href="http://google.github.io/fplutil">fplutil</a> to build, install and run.</li>
</ul>
<h1><a class="anchor" id="mathfu_guide_building_android_building"></a>
Building</h1>
<p>Each <a class="el" href="index.html#mathfu_overview">MathFu</a> project for Android has an associated <code>AndroidManifest.xml</code> file and <code>jni</code> subdirectory. Unit tests and benchmarks directories contain projects that each build an Android package (<a href="http://en.wikipedia.org/wiki/Android_application_package">apk</a>) which can be installed and executed on Android devices.</p>
<p>The following directories in the <a class="el" href="index.html#mathfu_overview">MathFu</a> project contain <a href="http://developer.android.com/tools/sdk/ndk/index.html">Android NDK</a> projects:</p>
<ul>
<li><code>mathfu/</code><ul>
<li>Rules used to build the <a class="el" href="index.html#mathfu_overview">MathFu</a> library.</li>
</ul>
</li>
<li><code>mathfu/benchmarks</code><ul>
<li>Each subdirectory under this directory contains a simple benchmark used to measure the performance of different build configurations.</li>
</ul>
</li>
<li><code>mathfu/unit_tests</code><ul>
<li>Each subdirectory under this directory contains a unit test application used to test different components of the library in different build configurations.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="mathfu_guide_building_android_building_ndk_build"></a>
Building with ndk-build</h2>
<p>To build a single <a href="http://developer.android.com/tools/sdk/ndk/index.html">Android NDK</a> project (without packaging the native component in an <a href="http://en.wikipedia.org/wiki/Android_application_package">apk</a>):</p>
<ul>
<li>Open a command line window.</li>
<li>Go to the directory containing the project to build.</li>
<li><code>ndk-build</code></li>
</ul>
<p>For example, to build the matrix test for the default build configuration without generating an <a href="http://en.wikipedia.org/wiki/Android_application_package">apk</a>:</p>
<div class="fragment"><div class="line">cd mathfu/unit_tests/matrix_test/<span class="keywordflow">default</span></div>
<div class="line">ndk-build</div>
</div><!-- fragment --><h2><a class="anchor" id="mathfu_guide_building_android_building_fplutil"></a>
Building with fplutil</h2>
<p>To build all <a href="http://developer.android.com/tools/sdk/ndk/index.html">Android NDK</a> projects, install and run them on a device:</p>
<ul>
<li>Open a command line window.</li>
<li>Go to the <a class="el" href="index.html#mathfu_overview">MathFu</a> project directory.</li>
<li>Execute <code>dependencies/fplutil/bin/build_all_android.py</code></li>
</ul>
<p>For example:</p>
<div class="fragment"><div class="line">cd mathfu</div>
<div class="line">./dependencies/fplutil/bin/build_all_android.py</div>
</div><!-- fragment --><h1><a class="anchor" id="mathfu_guide_building_android_running"></a>
Installing and Running Applications</h1>
<h2><a class="anchor" id="mathfu_guide_building_android_eclipse"></a>
Using Eclipse</h2>
<p>Running a sample requires the <a href="http://developer.android.com/sdk/index.html">Android Developer Tools</a> (<a href="http://developer.android.com/tools/sdk/eclipse-adt.html">ADT</a>) plugin and the <a href="http://developer.android.com/sdk/index.html">NDK Eclipse plugin</a>.</p>
<ul>
<li>Build a project using <code>ndk-build</code> (<a class="el" href="mathfu_guide_building_android.html#mathfu_guide_building_android_building_ndk_build">see above</a>).</li>
<li>Open <a href="http://developer.android.com/tools/sdk/eclipse-adt.html">ADT</a> Eclipse.</li>
<li>Select "File-&gt;Import..." from the menu.</li>
<li>Select "Android &gt; Existing Android Code Into Workspace", and click "Next".</li>
<li>Click the "Browse..." button next to <code>Root Directory:</code> and select the project folder (e.g. <code>mathfu/unit_tests/matrix_test/default</code>).</li>
<li>Click "Finish". Eclipse imports the project, and displays it in the Package Explorer pane.</li>
<li>Right-click the project, and select "Run-&gt;Run As-&gt;Android Application" from the menu.</li>
<li>If you do not have a physical device, you must define a virtual one. For details about how to define a virtual device, see <a href="http://developer.android.com/tools/devices/managing-avds.html">managing avds</a>. We don’t recommend a virtual device for development.</li>
<li>None of the applications have a visual component so their output is visible via the log (<a href="http://developer.android.com/tools/help/adb.html">adb</a> logcat).</li>
</ul>
<h2><a class="anchor" id="mathfu_guide_building_android_fplutil"></a>
Using fplutil</h2>
<p>To install and run a single application:</p>
<ul>
<li>Open a command line window.</li>
<li>Go to the directory containing the project to install and run.</li>
<li>Execute <code>dependencies/fplutil/bin/build_all_android.py</code> with the <code>-i</code> and <code>-r</code> options.</li>
</ul>
<p>For example:</p>
<div class="fragment"><div class="line">cd mathfu/unit_tests/matrix_test/<span class="keywordflow">default</span></div>
<div class="line">./dependencies/fplutil/bin/build_all_android.py -i -r</div>
</div><!-- fragment --><p>To install and run all applications:</p>
<ul>
<li>Open a command line window.</li>
<li>Go to the <a class="el" href="index.html#mathfu_overview">MathFu</a> project directory.</li>
<li>Execute <code>dependencies/fplutil/bin/build_all_android.py</code> with the <code>-i</code> and <code>-r</code> options.</li>
</ul>
<p>For example:</p>
<div class="fragment"><div class="line">cd mathfu</div>
<div class="line">./dependencies/fplutil/bin/build_all_android.py -i -r</div>
</div><!-- fragment --><h1><a class="anchor" id="mathfu_guide_building_android_code_generation"></a>
Code Generation</h1>
<p>By default, code is generated for devices that support the <code>armeabi-v7a-hard</code> ABI. Alternatively, you can generate a fat <code>.apk</code> that includes code for all ABIs. To do so, override APP_ABI on ndk-build's command line.</p>
<p>Using <code>ndk-build</code>:</p>
<div class="fragment"><div class="line">ndk-build APP_ABI=all</div>
</div><!-- fragment --><p>Using <code>fplutil</code>: </p>
<div class="fragment"><div class="line">./dependencies/fplutil/bin/build_all_android.py -f APP_ABI=all</div>
</div><!-- fragment --><p><br/>
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-49880327-7', 'google.github.io');
ga('send', 'pageview');
</script>
</body>
</html>
